<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Archisman Das - Coder. Entrepreneur. Product Manager.</title>
		<meta name="description" content="Home Page of Archisman Das. Because facebook, twitter and linkedin were not enough." />
		<meta name="keywords" content="archisman, das, product manager, coder, entrepreneur, startup, web, mobile, trilogy, pixfirst, django, jquery, python, user experience" />
		<!-- Import fonts -->
		<link href='http://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
		<!-- End Import fonts -->
		<!-- Stylesheets -->
		<link rel="stylesheet" href="../lib/css/reset.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="../css/static.css" type="text/css" media="screen" />
		<!-- End Stylesheets-->
	</head>
	<body>
		<!-- Header  -->
		<div id="id_header_wrapper">
			<header>
				<div class="left">
					<h1>Archisman Das</h1>
					<h3>Coder. Entrepreneur. Product Manager.</h3>
				</div>
				<div class="right">
					<span>Reach me at</span><br/><a href="#">namaskar@archisman.com</a>
				</div>
			</header>
		</div>
		<!-- End Header  -->
		<!-- Content  -->
		<div id="id_content_wrapper">
			<div id="id_nav_tab_container">
				<ul class="side-nav-tab">
					<li><a href="index.html" class="home">Home</a></li>
					<li class="read"><a href="read.html" class="read">Read</a></li>
					<li class="watch"><a href="watch.html" class="watch">Watch</a></li>
					<li class="listen"><a href="listen.html" class="listen">Listen</a></li>
					<li class="travel"><a href="travel.html" class="travel selected">Travel</a></li>					
					<li class="write"><a href="write.html" class="write">Write</a></li>
				</ul>
			</div>
			<div id="id_content">
				<article>
					<h2 class="bold">A few places I been around</h2>
					<section id="id_album_container">
					</section>
					<section>
						<div class="clear"></div>
						<div class="item-container">
							<h3 class="bold">References</h3>
							<ul>
								<li>Inspired from - <a href="http://www.crispymtn.com/stories/the-algorithm-for-a-perfectly-balanced-photo-gallery" target="no_blank">Perfectly balanced photo gallery</a></li>
								<li><a href="http://en.wikipedia.org/wiki/Partition_problem" target="no_blank">Linear Partition Algorithm</a></li>
							</ul>
						</div>
					</section>
				</article>
			</div>
		</div>
		<!-- End Content  -->
		<!-- Footer -->
		<div id="id_footer_wrapper">
			<footer>
				<div class="left">
					<h3>Thanks,</h3>
					<ul>
						<li><a href="http://www.shayhowe.com/" target="_none">Shay Howe</a> - for the <a href="http://learn.shayhowe.com/html-css/">lessons</a></li>
						<li><a href="https://profiles.google.com/gesweinfamily/about"target="_none">Kimberly Geswein</a> - for the <a href="http://fonts.googleapis.com/css?family=Architects+Daughter">fonts</a></li>
						<li><a href="http://dribbble.com/jankovarik"target="_none">Jan Kovařík</a> - for the <a href="http://glyphicons.com/">glyphicons</a></li>
						<li><a href="http://pixlr.com/" target="_none">Pixlr</a> - for online photo editing tools</li>
						
					</ul>
					
				</div>
				<div class="right">&copy; archisman.com&nbsp;&nbsp;&ndash;&nbsp;&nbsp;All rights reserved.</div>
			</footer>
		</div>
		<!-- End Footer -->
		<!-- Begin Javascript -->
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-42070049-2', 'archisman.com');
		  ga('send', 'pageview');

		</script>
		<script src="../lib/js/jquery-2.0.3.min.js"></script>
		<script type="text/javascript">
		var __PHOTOS_PATH__ = "../img/travel/";
		// Format - [File name, image width, image height]
		var __PHOTOS__ = [
							["Hamilton-Pool-Austin.jpg",604,453],
							["Hangzhou-1.JPG",409,545],
							["Hangzhou-2.JPG",727,545],
							["Hangzhou-3.JPG",727,545],
							["Hangzhou-4.JPG",727,545],
							["Kerela-1.jpg",727,545],
							["Khajiar-1.jpg",960,720],
							["Kovalam-1.jpg",727,545],
							["Kovalam-2.jpg",727,545],
							["Kovalam-3.jpg",727,545],
							["Kovalam-4.jpg",727,545],
							["Mount-Bonnel-Austin.JPG",727,545],
							["Munnar-1.jpg",727,545],
							["Munnar-2.jpg",727,545],
							["Munnar-3.jpg",727,545],
							["Munnar-4.jpg",727,545],
							["Munnar-5.jpg",727,545],
							["Munnar-6.jpg",727,545],
							["Oasis-Austin.JPG",817,545],
							["Palakkad-1.jpg",727,545],
							["Paris-1.jpg",960,720],
							["Pondicherry-1.jpg",727,545],
							["San-Blas-Islands-2.JPG",727,545],
							["San-Blas-Islands.jpg",2048,1152],
							["Shanghai-1.JPG",409,545],
							["Shanghai-2.JPG",409,545],
							["Shivasamudram-Falls-1-0.jpg",2048,1536],
							["Shivasamudram-Falls-1-10.jpg",727,545],
							["Suratkhal-Beach.JPG",3456,4608],
							["Wagah-1.JPG",4608,3456],
						];
		
		function linear_partition(photos, k)
		{
			// Refer - https://github.com/crispymtn/linear-partition/blob/master/linear_partition.coffee
			var number_of_photos = photos.length;
			if (k <= 0)
			{
				return [];
			}
			// Initialize linear_partition_table
			var linear_partition_table = new Array(number_of_photos);
			for (var i = 0; i<number_of_photos; i++)
			{
				linear_partition_table[i] = new Array(k);
				for (var j = 0; j<k; j++)
				{
					linear_partition_table[i][j] = 0;
				}
			}
			// Initialize linear_parition_solution
			var linear_partition_solution = new Array(number_of_photos-1);
			for (var i = 0; i<number_of_photos-1; i++)
			{
				linear_partition_solution[i] = new Array(k-1);
				for (var j = 0; j<k-1; j++)
				{
					linear_partition_solution[i][j] = 0;
				}
			}
			for (var i = 0; i<number_of_photos; i++)
			{
				if (i == 0)
				{
					var temp = 0;
				}
				else
				{
					var temp =  linear_partition_table[i-1][0];
				}
				linear_partition_table[i][0] = parseFloat(photos[i][1]/photos[i][2]) + temp;
			}
			for (var j = 0; j<k; j++)
			{
				linear_partition_table[0][j] = parseFloat(photos[0][1]/photos[0][2]);				
				
			}
			for (var i = 1; i<number_of_photos; i++)
			{
				for (var j = 1; j<k; j++)
				{
					var temp_array = new Array(i);
					for (var x = 0; x<i; x++)
					{
						
						temp_array[x] = Math.max(linear_partition_table[x][j-1], linear_partition_table[i][0]-linear_partition_table[x][0]);
					}
					linear_partition_table[i][j] = Math.min.apply(Math, temp_array);
					linear_partition_solution[i-1][j-1] = temp_array.indexOf(linear_partition_table[i][j]);
				}
			}
			n = number_of_photos - 1;
			k = k - 2;
			ans = new Array();
			while (k >= 0)
			{
				var temp_array = [];
				for ( var j =  linear_partition_solution[n-1][k]+1; j<n+1; j++)
				{
					temp_array.push(photos[j]);
				}
				ans.push(temp_array);
				n = linear_partition_solution[n-1][k];
				k = k - 1;
			}
			var temp_array = [];
			for (var j = 0; j<n+1; j++)
			{
				temp_array[j] = photos[j];
			}
			ans.push(temp_array);			
			return ans;
		}

		function render_album()
		{
			var album_width = $("#id_album_container").width();
			var ideal_height = $(window).height()/4;
			var sum_photos_width = 0.00;
			$(__PHOTOS__).each( function() {
				sum_photos_width = sum_photos_width + (($(this)[1]/$(this)[2])*ideal_height);
			});
			var number_of_rows = Math.round(sum_photos_width/album_width);
			var partition = linear_partition(__PHOTOS__, number_of_rows);
			var tmpl = '<div class="photo" style="width: #0#; height: #1#; background-image: url(#2#);"></div>';
			$(partition).each( function() {
				$(this).each( function() {
					var height = ideal_height;
					var width = ($(this)[1]/$(this)[2])*ideal_height;
					var img_url = __PHOTOS_PATH__ + $(this)[0];
					var html = tmpl.replace("#0#", width + "px");
					html = html.replace("#1#", height + "px");
					html = html.replace("#2#", img_url);
					$("#id_album_container").append(html);
				});
			});
			
		}
		$( function() {
			render_album();
		});
		</script>
		<!-- End Javascript -->
	</body>	
</html>
